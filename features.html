<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Features â€” YourCompany</title>
  <style>
    :root{--accent:#0a84ff;--muted:#666}
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Arial,Helvetica,sans-serif;color:#222;background:#fafafa}
    header{background:#fff;border-bottom:1px solid #eee}
    .nav{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:14px 20px}
    .brand{font-weight:700;font-size:18px;color:var(--accent)}
    nav ul{list-style:none;margin:0;padding:0;display:flex;gap:16px}
    nav a{color:#222;text-decoration:none;padding:8px 10px;border-radius:6px}
    .menu-toggle{display:none;background:transparent;border:0;font-size:20px;color:var(--accent);cursor:pointer}
    .mobile-menu{display:none;position:absolute;top:64px;left:0;right:0;background:#fff;border-top:1px solid #eee;padding:12px}
    .mobile-menu.open{display:block}

    main{max-width:1200px;margin:28px auto;padding:12px}
    .intro{margin-bottom:18px}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .card{background:#fff;border-radius:10px;padding:14px;box-shadow:0 6px 20px rgba(15,15,15,0.04);display:flex;flex-direction:column;align-items:flex-start}
    .thumb{width:100%;height:160px;background:linear-gradient(135deg,#e6eefc,#f7fbff);border-radius:8px;margin-bottom:10px;display:flex;align-items:center;justify-content:center;color:var(--muted)}
    .title{font-weight:700;margin-bottom:6px}
    .desc{color:var(--muted);font-size:14px}

    @media (max-width:980px){.grid{grid-template-columns:repeat(2,1fr)}; .menu-toggle{display:inline-block}; nav ul{display:none}}
    @media (max-width:520px){.grid{grid-template-columns:1fr}; .nav{padding:12px}.mobile-menu{top:56px}}
  </style>
</head>
<body>
  <header>
    <div class="nav">
      <div class="brand">Pramana ID</div>
      <button class="menu-toggle" id="menuToggle" aria-label="Toggle menu">â˜°</button>
      <nav>
        <ul>
          <li><a href="home.html">Home</a></li>
          <li><a href="features.html">Features</a></li>
          <li><a href="pricing.html">Pricing</a></li>
          <li><a href="home.html#contact">Contact Us</a></li>
        </ul>
      </nav>
    </div>
    <div class="mobile-menu" id="mobileMenu">
      <a href="home.html">Home</a>
      <a href="features.html">Features</a>
      <a href="pricing.html">Pricing</a>
      <a href="home.html#contact">Contact Us</a>
    </div>
  </header>

  <main>
    <section class="intro">
      <h1>Features</h1>
      <p class="lead" style="color:var(--muted)">Key product features (loaded from <code>content/mycontent.json</code>).</p>
    </section>

    <section>
      <div id="featuresGrid" class="grid">
        <!-- feature cards will be injected here -->
      </div>
      <div id="error" style="color:#a00;margin-top:12px;display:none"></div>
    </section>
  </main>

  <script>
        <!-- features loader: replace existing IIFE with this -->
    (function(){
      const grid = document.getElementById('featuresGrid');
      const err = document.getElementById('error');

      const pathsToTry = [
        './mycontent.json',
        'mycontent.json',
        'content/mycontent.json',
        './content/mycontent.json',
        '/content/mycontent.json',
        './External/mycontent.json',
        'External/mycontent.json'
      ];

      async function tryFetch(paths){
        let lastErr = null;
        for(const p of paths){
          try{
            console.info('Trying to fetch', p);
            const res = await fetch(p);
            if(!res.ok){ lastErr = new Error('Fetch '+p+' failed: '+res.status); continue; }
            const json = await res.json();
            console.info('Loaded JSON from', p);
            return json;
          }catch(e){
            console.warn('Error fetching', p, e && e.message);
            lastErr = e;
          }
        }
        throw lastErr || new Error('All fetch attempts failed');
      }

      tryFetch(pathsToTry).then(data=>{
        let items = [];
        if(!data) throw new Error('Empty content');
        if(Array.isArray(data.featureCards)) items = data.featureCards;
        else if(Array.isArray(data.featurecards)) items = data.featurecards;
        else if(Array.isArray(data.features)) items = data.features;
        else if(Array.isArray(data.items)) items = data.items;
        else if(Array.isArray(data)) items = data;
        else if(typeof data === 'object'){
          const vals = Object.values(data);
          const hasObjects = vals.length && typeof vals[0] === 'object';
          if(hasObjects) items = vals;
          else items = [{title: 'Content', description: JSON.stringify(data)}];
        }

        if(!items || items.length === 0){
          err.style.display='block'; err.textContent = 'No features found in mycontent.json (parsed JSON had no items)';
          console.warn('Parsed JSON but found no items', data);
          return;
        }

        const iconMap = {
          printer: 'ðŸ–¨ï¸', users: 'ðŸ‘¥', 'layout-template': 'ðŸ§©', settings: 'âš™ï¸', 'file-text': 'ðŸ“„',
          smartphone: 'ðŸ“±', layers: 'ðŸ—‚ï¸', 'file-output': 'ðŸ“¤'
        };

        items.forEach(it=>{
          const card = document.createElement('div'); card.className='card';
          const thumb = document.createElement('div'); thumb.className='thumb';

          if(it.icon){
            const span = document.createElement('div');
            span.style.fontSize='36px';
            span.textContent = iconMap[it.icon] || it.icon || '';
            thumb.innerHTML=''; thumb.appendChild(span);
          } else if(it.image){
            const img = document.createElement('img');
            img.src = it.image;
            img.alt = it.title || it.name || '';
            img.style.width='100%'; img.style.height='100%'; img.style.objectFit='cover'; img.style.borderRadius='8px';
            thumb.innerHTML=''; thumb.appendChild(img);
          } else {
            thumb.textContent = it.title || 'Image';
          }

          const title = document.createElement('div'); title.className='title';
          title.textContent = it.title || it.name || 'Untitled';

          const desc = document.createElement('div'); desc.className='desc';
          desc.textContent = it.shortDescription || it.description || it.desc || it.summary || '';

          card.appendChild(thumb); card.appendChild(title); card.appendChild(desc);
          grid.appendChild(card);
        });
      }).catch(e=>{
        err.style.display='block';
        err.textContent = 'Failed to load features: ' + (e && e.message ? e.message : String(e));
        console.error('Failed to load mycontent.json', e);
      });
    })();
  </script>
</body>
</html>